---
const data = await fetch('https://jsonplaceholder.typicode.com/posts');
const posts = await data.json();
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>IPFS Astro Test</title>
		<link rel="stylesheet" href={Astro.resolve('../styles/global.css')}>
	</head>

	<body>
		<main class="flex flex-col p-5">
		<h1>A simple Astro test on the blockchain.</h1>
		<small>Made by <a class="text-blue-500" href="https://github.com/SpBills/astro-ipfs">Spencer Bills</a></small>
		{posts.map(post => (
			<a class="rounded shadow my-5 p-5" href={`posts/${post.id}`}>
				<h2 class="mb-5">{post.title[0].toUpperCase() + post.title.substring(1)}</h2>
				<p>Click to view</p>
			</a>
		))}
		</main>
		<footer class="w-full mt-10 border-t-2 p-2">
			Made by <a class="text-blue-500" href="https://github.com/SpBills">Spencer Bills</a>
		</footer>
	</body>
</html>
